<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Kalkulator ułamków</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f6f8;
        text-align: center;
        padding: 40px;
    }

    .container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        display: inline-block;
        margin-bottom: 30px;
    }

    input {
        width: 60px;
        padding: 5px;
        margin: 5px;
        text-align: center;
    }

    button {
        padding: 8px 15px;
        margin: 5px;
        border: none;
        background: #007BFF;
        color: white;
        border-radius: 5px;
        cursor: pointer;
    }

    button:hover {
        background: #0056b3;
    }

    .wynik {
        margin-top: 20px;
        font-size: 20px;
        font-weight: bold;
    }
</style>
</head>
<body>

<!-- DODAWANIE / ODEJMOWANIE -->
<div class="container">
    <h2>Dodawanie / Odejmowanie ułamków</h2>

    <div>
        <input type="number" id="a1"> /
        <input type="number" id="b1">
    </div>

    <div>
        <input type="number" id="a2"> /
        <input type="number" id="b2">
    </div>

    <div>
        <button onclick="oblicz('+')">Dodaj</button>
        <button onclick="oblicz('-')">Odejmij</button>
    </div>

    <div id="wynik1" class="wynik"></div>
</div>


<!-- SKRACANIE -->
<div class="container">
    <h2>Skracanie ułamka</h2>

    <div>
        <input type="number" id="a3"> /
        <input type="number" id="b3">
    </div>

    <div>
        <button onclick="skroc()">Skróć ułamek</button>
    </div>

    <div id="wynik2" class="wynik"></div>
</div>

<script>
function nwd(a, b) {
    return b === 0 ? a : nwd(b, a % b);
}

function oblicz(operator) {
    let a1 = parseInt(document.getElementById("a1").value);
    let b1 = parseInt(document.getElementById("b1").value);
    let a2 = parseInt(document.getElementById("a2").value);
    let b2 = parseInt(document.getElementById("b2").value);

    if (!a1 || !b1 || !a2 || !b2) {
        document.getElementById("wynik1").innerText = "Wpisz wszystkie liczby!";
        return;
    }

    if (b1 === 0 || b2 === 0) {
        document.getElementById("wynik1").innerText = "Mianownik nie może być 0!";
        return;
    }

    let licznik, mianownik;

    if (operator === '+') {
        licznik = a1 * b2 + a2 * b1;
    } else {
        licznik = a1 * b2 - a2 * b1;
    }

    mianownik = b1 * b2;

    let dzielnik = nwd(Math.abs(licznik), Math.abs(mianownik));

    licznik /= dzielnik;
    mianownik /= dzielnik;

    if (mianownik < 0) {
        licznik *= -1;
        mianownik *= -1;
    }

    document.getElementById("wynik1").innerText = 
        "Wynik: " + licznik + " / " + mianownik;
}

function skroc() {
    let a3 = parseInt(document.getElementById("a3").value);
    let b3 = parseInt(document.getElementById("b3").value);

    if (!a3 || !b3) {
        document.getElementById("wynik2").innerText = "Wpisz licznik i mianownik!";
        return;
    }

    if (b3 === 0) {
        document.getElementById("wynik2").innerText = "Mianownik nie może być 0!";
        return;
    }

    let dzielnik = nwd(Math.abs(a3), Math.abs(b3));

    let licznik = a3 / dzielnik;
    let mianownik = b3 / dzielnik;

    if (mianownik < 0) {
        licznik *= -1;
        mianownik *= -1;
    }

    document.getElementById("wynik2").innerText =
        "Po skróceniu: " + licznik + " / " + mianownik;
}
</script>

</body>
</html>
